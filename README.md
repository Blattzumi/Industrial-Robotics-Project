# Industrial-Robotics-Project
Executing a Trajectory ( Infinity Symbol (Lemniscate) in XY-plane ) with the Franka Robot in Gazebo

# Prerequisites
To run this project, you must have the following installed on your system:
* Ubuntu 20.04 (Focal Fossa)
* ROS Noetic Desktop-FullFranka Emika ROS Packages: The `franka_ros` and `franka_moveit_config` packages.
* MoveIt!: The MoveIt! motion planning framework.
* Python 3 with `numpy`, `matplotlib`, and `rosbag`.
# Setup
Catkin Workspace: Ensure you have a working catkin workspace setup. If not, you can create one with the following commands:
```
mkdir -p ~/catkin_ws/src
cd ~/catkin_ws/
catkin_make
```
Project Directory: Create the trajectory package within your catkin_ws/src directory.
```
cd ~/catkin_ws/src
mkdir trajectory
cd trajectory
```
Place the Files: Place the following three Python scripts and the CSV file into the `~/catkin_ws/src/trajectory/` directory:
*generate_infinity_trajectory.py
*follow_infinity_trajectory.py
*analyze_trajectory_data.py
*desired_infinity_trajectory.csv (this file is generated by the first script)
Make Scripts Executable: Grant executable permissions to the two main scripts.
```
chmod +x follow_infinity_trajectory.py
chmod +x analyze_trajectory_data.py
```
## How to Run the Simulation and Analysis
This project requires a three-terminal workflow to ensure all data is correctly recorded.

Step 1: Start the Robot Simulation (Terminal 1)

First, launch the Gazebo simulation and MoveIt! environment for the Franka Panda robot.
```
# In your catkin_ws directory
source devel/setup.bash

# Replace 'franka_gazebo_moveit' and 'demo_gazebo.launch' with your specific launch file
roslaunch franka_gazebo_moveit demo_gazebo.launch
```
This command will open a Gazebo window with the Panda robot and start the necessary ROS nodes.

Step 2: Start Trajectory Execution (Terminal 2)

**Right before executing this, follow Step 3.** In a new terminal, run the trajectory follower script using `rosrun`. 
```
# In your catkin_ws/src/trajectory directory
source ~/catkin_ws/devel/setup.bash

rosrun trajectory follow_infinity_trajectory.py
```

Step 3: Record the Data with Rosbag (Terminal 3)

In a third terminal, start recording the data. Run this command right before running the previous command in Terminal 2.
```
# In your catkin_ws/src/trajectory directory
source ~/catkin_ws/devel/setup.bash

rosbag record -O franka_trajectory_data_FINAL.bag /tf /joint_states /franka_state_controller/franka_states /robot/executed_ee_pose
```
After a few seconds, the `follow_infinity_trajectory.py` script will begin moving the robot. Once the robot completes the trajectory, you can stop the `rosbag record` process by pressing `Ctrl + C`.

Step 4: Analyze the Trajectory (Any Terminal)

After the rosbag has been saved, you can run the analysis script to generate the plots and a performance summary.
```
# In your catkin_ws/src/trajectory directory
source ~/catkin_ws/devel/setup.bash

python3 analyze_trajectory_data.py

```
This script will produce a series of plots that visualize the desired vs. executed trajectory, joint positions, velocities, and instantaneous error. It will also print the mean and maximum position error to the terminal.
